checkout:
  post:
    - git submodule sync
    - git submodule update --init

dependencies:
  override:
    - bin/halcyon-setup
    - bin/build

test:
  override:
    - bin/run

deployment:
  production:
    branch: master
    commands:
      - git config --global user.name 'Steven Shaw'
      - git config --global user.email 'steven@steshaw.org'
      - bin/deploy-to-github-pages "Circle (${CIRCLE_BUILD_NUM})"
